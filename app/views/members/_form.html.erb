<%= form_with(model: @member) do |form| %>
  <% if @member.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(@member.errors.count, "error") %> prohibited this member from being saved:</h2>

      <ul>
        <% @member.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%# if user is not nill then user has an account so this is regular new account %>
  <% if @user != nil%>
  <div>
    <%= form.label :name, style: "display: block" %>
    <%= form.text_field :name %>
    <%= form.label :committee_id, style: "display: block" %>
    <%= form.select :committee_id, Committee.order(:name).map { |committee| [ committee.name, committee.id] }, include_blank: "None" %>
    <%= form.label :position, style: "display: block" %>
    <%= form.text_field :position %>
    <%= form.label :civicPoints, style: "display: block" %>
    <%= form.number_field :civicPoints %>
    <%= form.label :outreachPoints, style: "display: block" %>
    <%= form.number_field :outreachPoints %>
    <%= form.label :socialPoints, style: "display: block" %>
    <%= form.number_field :socialPoints %>
    <%= form.label :marketingPoints, style: "display: block" %>
    <%= form.number_field :marketingPoints %>
    <!--
    <%= form.label :totalPoints, style: "display: block" %>
    <%= form.number_field :totalPoints %>
    -->
  </div>

  <%# if user is not nil then this is a new account that needs  %>
  <%else%>
    <div>
      <%= form.label :name, style: "display: block" %>
      <%= form.text_field :name %>
      <%= form.label :committee_id, style: "display: block" %>
      <%= form.select :committee_id, Committee.order(:name).map { |committee| [ committee.name, committee.id] }, include_blank: "None" %>
      <%= form.label :admin_password, style: "display: block" %>
      <%= form.text_field :admin_password %>
    </div>
  <%end%>
  <div>
    <%= form.submit %>
  </div>
<% end %>
